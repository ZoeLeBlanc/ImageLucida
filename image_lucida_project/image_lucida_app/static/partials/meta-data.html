<div class="row">
    <div class="row">
        <h6>
            <a href="javascript:void(0);" ng-click="go_back()" >Go Back</a>
        </h6>
    </div>
    <div class="card col s10 offset-s1">
        <div class="row">
            <h4>Transform File Meta Data</h4>
        </div>
        <div >
            <h5>Current Meta Data</h5>
            <p ng-show="!current_archival_source.length">No archival source</p>
            <p ng-show="!current_issue.length">No issues</p>
            <p ng-show="current_archival_source.length">Archive: ((current_archival_source.fields.archive_name)) / Collection: ((current_archival_source.fields.collection_name)) / Folder: ((current_archival_source.fields.folder_name))</p>
            <p ng-show="current_issue.length">Issue: ((current_issue.fields.issue_name)) / Issue Number: ((current_issue.fields.issue_number)) / Publication Location: ((current_issue.fields.publication_location)) / Date Published: ((current_issue.fields.date_published))</p>
        </div>
        <div class="divider"></div>
        <div class="row col s10 offset-s1">
            <div class="row" ng-show="selectArchive">
                <div class="row">
                    <h4>Select archival Source</h4>
                </div>
                <div class="row">
                    <label>Select Archival Source</label>
                    <select ng-model="selectedOption" material-select>
                        <option value="">---Please select---</option> 
                        <option ng-repeat="archive in allArchivalSources" ng-selected="archive==selectedOption" value="((archive.fields.id))">((archive.fields.archive_name))</option> 
                    </select>
                </div>
            </div>      
            <div class="row" ng-show="!selectArchive">
                <div class="row">
                    <h4>Add new archival Source</h4>
                </div>
            <div class="row">
                <div class="row">
                    <input type="text" class="input-field col s10 offset-s1" placeholder="Enter the archival source name" ng-model="archival_source.archive_name" required autofocus>
                </div>
                <div class="row">
                    <input type="text" class="input-field col s10 offset-s1" placeholder="Enter collection name" ng-model="archival_source.collection_name">
                </div>
                <div class="row">
                    <input type="text" class="input-field col s10 offset-s1" placeholder="Enter folder name" ng-model="archival_source.folder_name">
                </div>
            </div>
        </div>
        <div class="row">
            <button ng-show="selectArchive" class="waves-effect waves-light btn col s5" ng-click="addNewArchive()">Add New Archive</button>
            <button ng-show="!selectArchive" class="modal-action modal-close waves-effect waves-light btn col s8" ng-click="saveNewArchive()">Save Archive<i class="small material-icons">content-save</i></button>
            <button ng-show="selectArchive" class="modal-action modal-close waves-effect waves-light btn col s5" ng-click="saveArchive(selectedOption)">Save Archive<i class="small material-icons">content-save</i></button>
        </div>
        <div class="divider"></div>
        <div class="row col s10 offset-s1">
            <div class="row" ng-show="selectIssue">
                <div class="row">
                    <h4>Select an issue</h4>
                </div>
                <div class="row">
                <label>Select Issue</label>
                    <select ng-model="selectedOption" material-select>
                        <option value="">---Please select---</option> 
                        <option ng-repeat="issue in issues" ng-selected="issue==selectedOption" value="((issue.id))">((issue.issue_name))</option> 
                    </select>
                </div>      
            </div>
            <div class="row" ng-show="!selectIssue">
                <div class="row">
                    <h4>Add new issue</h4>
                </div>
                <div class="row">
                    <div class="row">
                        <input type="text" class="input-field col s10 offset-s1" placeholder="Enter issue name" ng-model="issue.issue_name" required autofocus>
                    </div>
                    <div class="row">
                        <input type="text" class="input-field col s10 offset-s1" placeholder="Enter date published" ng-model="issue.date_published">
                    </div>
                    <div class="row">
                        <input type="text" class="input-field col s10 offset-s1" placeholder="Enter the location of the publication" ng-model="issue.publication_location">
                    </div>
                    <div class="row">
                        <input type="text" class="input-field col s10 offset-s1" placeholder="Enter issue number" ng-model="issue.issue_number">
                    </div>
                </div>
            </div>
            <div class="row">
                <button ng-show="selectIssue" class="waves-effect waves-light btn col s5" ng-click="addNewIssue()">Add New Issue</button>
                <button ng-show="!selectIssue" class=" waves-effect waves-light btn col s8" ng-click="saveNewIssue()">Save Issue<i class="small material-icons">content-save</i></button>
                <button ng-show="selectIssue" class=" waves-effect waves-light btn col s5" ng-click="saveIssue(selectedOption)">Save Issue<i class="small material-icons">content-save</i></button>
            </div>
        </div>
        <div class="divider"></div>
        <div class="row col s10 offset-s1">
            <label>Transform File Tags</label>
            <div class="row">
                <div class="input-field col s10 offset-s1">
                    <div class="chips" ng-show="!tags.length">
                        <input ng-model="tags">
                    </div>
                    <div ng-show="tags.length" class="chips chips-initial">
                      <input ng-model="tags">
                    </div>
                </div>
            </div>
            <div class="row">
                <button class="modal-action modal-close waves-effect waves-light btn col s5" ng-click="saveTags()">Save Tags<i class="small material-icons">content-save</i></button>
            </div>
        </div>
    </div>
</div>

